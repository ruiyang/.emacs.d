# [[http://www.commandlinefu.com] [commandlinefu]]

* cat /etc/passwd
list all users/check home directory

* uname -a
check ubuntu version

* df -h # check disk usage
* du -sh /home/  # check usage under /home
* lsof -w -n -i tcp:8080  # find process using a port
* gem list | cut -d" " -f1 | xargs gem uninstall -aIx   # remove all gems
* sudo su -  # switch to root
* netstat -a # check network port listening etc.
* bash scripting
** assign command output to a variable
VARNAME=$(ps aux | grep [X]vfb)
Note: no space on both side of '='
** if else fi
if [ "$(expr substr $(uname -s) 1 9)" == "CYGWIN_NT" ]; then
    cmd /c go_ci.bat "$@"
else
    bash ./ci_linux.sh "$@"
fi

* !$ reuse last command's parameter
* uninstall all gems
gem list | cut -d" " -f1 | xargs gem uninstall -aIx'
* show a file
  - tail -f /file/  live updating of a file
* sed
** delete a line
   - by line number
     sed -i 8d ~/.ssh/known_hosts



* packages
  - dpkg --get-selections | grep -v deinstall
  - sudo dpkg --configure -a  # fix issues of missing file in apt-get install. normally this means the dpkg is corrupted

* postgres
** restart
   sudo /etc/init.d/postgresql restart
** psql to start command prompt
** roles
SELECT rolname FROM pg_roles;
\du to list all roles

* Date And Time
  - /etc/timezone for timezone info
  - date to display date and time
  - dpkg-reconfigure --frontend noninteractive tzdata

* dpkg-query -L libapache2-mod-jk
* grep
  - grep -F /str/    grep plain string
  - grep -E grep extended regular expression

* grunt
** grunt warning:watch ENOSPC
fix: echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p
* [[http://www.gnu.org/software/bash/manual/bash.html#Bash-Conditional-Expressions][Bash Reference Manual]]
